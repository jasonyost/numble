/*
 *  numble - v0.0.1
 *  Simple jQuery number selector
 *  https://github.com/jasonyost/numble#readme
 *
 *  Made by 
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="numble",g={debug:!1,includeButtons:!0,allowNegative:!0,maxValue:d,minValue:d,initialValue:d};a.extend(e.prototype,{init:function(){var a=this;a.debugMessage("numble initialized"),a.setupControls(a.element,a.settings)},setupControls:function(b,c){a(b).wrap('<div class="numble-wrapper"></div>');var d=this;a(b).addClass("numble-original"),a(b).hide(),a(b).after('<div class="numble-control"></div>');var e=a(b).siblings(".numble-control");a(b).change(function(){d.debugMessage("change detected: "+a(this).val());var b=a(this).siblings(".numble-control");b.text(a(this).val()),d.addButtons(this,d.settings)});var f=this.getIntialValue(b,c);d.debugMessage("original value "+f),a(b).val(f),a(b).change(),e.bind("mousewheel DOMMouseScroll",function(a){a.originalEvent.wheelDelta>0||a.originalEvent.detail<0?(d.debugMessage("received scroll up event"),d.incrementValue(b)):(d.debugMessage("received scroll down event"),d.decrementValue(b,c)),a.preventDefault()}),this.addButtons(this.element,this.settings)},addButtons:function(b,c){var d=this;if(c.includeButtons){var e=a(b).siblings(".numble-control");e.append('<span class="numble-increment numble-arrow">&#x25B2;</span>'),e.append('<span class="numble-decrement numble-arrow">&#x25BC;</span>'),e.find(".numble-increment").click(function(){d.incrementValue(b)}),e.find(".numble-decrement").click(function(){d.decrementValue(b,c)})}},incrementValue:function(b){var c=parseInt(a(b).val())||0;this.settings.maxValue?c<this.settings.maxValue?(c++,a(b).val(c).trigger("change"),this.debugMessage("incrementing to "+c)):this.debugMessage("maxValue set to "+this.settings.maxValue):(c++,a(b).val(c).trigger("change"),this.debugMessage("incrementing to "+c))},decrementValue:function(b,c){var d=parseInt(a(b).val())||0,e=!1;c.minValue?d>c.minValue?e=!0:(e=!1,this.debugMessage("minValue set to "+c.minValue)):0===d?c.allowNegative?e=!0:(e=!1,this.debugMessage("allowNegative set to false")):e=!0,e&&(d--,a(b).val(d).trigger("change"),this.debugMessage("decrementing to "+d))},getIntialValue:function(b,c){var d=parseInt(a(b).val())||0;return 0===d&&(d=parseInt(c.initialValue)||0),d},debugMessage:function(a){this.settings.debug&&console.log(a)}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);