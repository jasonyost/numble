/*
 *  numble - v0.0.1
 *  Simple jQuery number selector
 *  https://github.com/jasonyost/numble#readme
 *
 *  Made by 
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="numble",g={debug:!1,includeButtons:!0,allowNegative:!0,maxValue:d};a.extend(e.prototype,{init:function(){var a=this;a.debugMessage("numble initialized"),a.setupControls(a.element,a.settings)},setupControls:function(b){a(b).wrap('<div class="numble-wrapper"></div>');var c=this;a(b).addClass("numble-original"),a(b).hide(),a(b).after('<div class="numble-control"></div>');var d=a(b).siblings(".numble-control"),e=parseInt(a(b).val())||0;c.debugMessage("original value "+e),d.text(e),a(b).change(function(){c.debugMessage("change detected");var b=a(this).siblings(".numble-control");b.text(a(this).val()),c.addButtons(this,c.settings)}),d.bind("mousewheel DOMMouseScroll",function(a){a.originalEvent.wheelDelta>0||a.originalEvent.detail<0?(c.debugMessage("received scroll up event"),c.incrementValue(b)):(c.debugMessage("received scroll down event"),c.decrementValue(b))}),this.addButtons(this.element,this.settings)},addButtons:function(b,c){var d=this;if(c.includeButtons){var e=a(b).siblings(".numble-control");e.append('<span class="numble-increment numble-arrow">&#x25B2;</span>'),e.append('<span class="numble-decrement numble-arrow">&#x25BC;</span>'),e.find(".numble-increment").click(function(){d.incrementValue(b)}),e.find(".numble-decrement").click(function(){d.decrementValue(b)})}},incrementValue:function(b){var c=parseInt(a(b).val())||0;this.settings.maxValue?c<this.settings.maxValue?(c++,a(b).val(c).trigger("change"),this.debugMessage("incrementing to "+c)):this.debugMessage("maxValue set to "+this.settings.maxValue):(c++,a(b).val(c).trigger("change"),this.debugMessage("incrementing to "+c))},decrementValue:function(b){var c=parseInt(a(b).val())||0;this.settings.allowNegative?(c--,a(b).val(c).trigger("change"),this.debugMessage("decrementing to "+c)):c>0?(c--,a(b).val(c).trigger("change"),this.debugMessage("decrementing to "+c)):this.debugMessage("allowNegative set to false")},debugMessage:function(a){this.settings.debug&&console.log(a)}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);